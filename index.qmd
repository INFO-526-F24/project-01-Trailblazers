---
title: "Predicting Healthcare Service Demands Using Simulated Data for Advanced Analytics"
subtitle: "INFO 526 - Fall 2024 - Project 01"
author: 
  - name: "Trailblazers"
    affiliations:
      - name: "School of Information, University of Arizona"
description: "Project description"
format:
   html:
    code-tools: true
    code-overflow: wrap
    embed-resources: true
editor: visual
execute:
  warning: false
  echo: false
---

## Abstract

This study explores how patient demographics, such as age and gender, along with medical conditions, impact diagnostic test results. By examining these relationships, it aims to identify patterns that can enhance healthcare decision-making and ensure resources are directed where they’re needed most. The insights can help healthcare providers improve diagnostic accuracy, deliver tailored care, and address disparities in outcomes. This research contributes to advancing patient-centered healthcare, making it more precise, accessible, and equitable, ultimately supporting a future where medical decisions are better informed by individual patient profiles and real-world needs.

## Introduction and Data

This project investigates a synthetic dataset mimicking real-world healthcare records to understand key factors influencing medical revenue and billing amounts. By analyzing patterns in age, admission types, and medication usage, we aim to provide insights that can inform cost optimization strategies, resource allocation, and improve efficiency in healthcare systems.

**Research Questions:**

This analysis aims to answer the following research questions:

1.  **How does total and average medical revenue vary across different age groups, and what is the proportional contribution of each age group to the overall medical revenue?**
2.  **What factors contribute most to higher billing amounts? Importance: Insights here can inform healthcare cost optimization and insurance claimprocesses.**

**Dataset Description:**

This project utilizes a synthetic dataset sourced from Kaggle. The dataset was generated using Python's Faker library to simulate real-world healthcare records while ensuring patient privacy. It comprises 55,500 rows and 15 columns, encompassing the following key variables:

-   **Patient Demographics:** Age, Gender
-   **Clinical Details:** Blood Type, Medical Condition, Medications
-   **Admission and Discharge Information:** Date of Admission, Discharge Date, Admission Type
-   **Billing and Hospital Details:** Billing Amount, Hospital, Insurance Provider
-   **Test Results:** Categorized as Normal, Abnormal, or Inconclusive

**Data Cleaning Process:**

Prior to analysis, the dataset underwent a cleaning process to ensure data quality and consistency. This included:

-   **Handling Missing Values:** Rows with missing values were removed from the dataset.
-   **Data Type Conversion:** Date columns (`Date of Admission`, `Discharge Date`) were converted to the appropriate date format.
-   **Feature Engineering:** New variables were created to facilitate analysis, such as `Age_Group` (categorizing patients into different age ranges) and `Length of Stay` (calculated from admission and discharge dates).

**Exploratory Data Analysis (EDA):**

We conducted a univariate and bivariate exploratory data analysis (EDA) to understand the underlying patterns and relationships in the data, particularly focusing on age, revenue, and billing amounts. The research questions also comes under the bivariate analysis, we have answered them beneath this column in the presentation.qmd file of the project. (Note: Brief explanation is done under the methodology part )

### Methodology

This section outlines the approaches and techniques employed in our analysis to address the research questions.

**Data Preprocessing:**

-   **Data Cleaning:** The initial step involved cleaning the raw data to ensure its quality and suitability for analysis. This included:
    -   **Handling Missing Data:** Rows with any missing values were removed from the dataset to prevent inaccuracies in the analysis.
    -   **Correcting Data Types:** The `Date.of.Admission` and `Discharge.Date` columns were converted to the correct date format to enable date-based calculations and analysis.

### **Exploratory Data Analysis (EDA):**

We conducted a univariate and bivariate exploratory data analysis (EDA) to understand the underlying patterns and relationships in the data, particularly focusing on age, revenue, and billing amounts.

### Univariate Analysis

Univariate analysis focuses on exploring individual variables in isolation to understand their distributions, central tendencies, and dispersions. Key visualizations include:

-   **Gender Distribution:** Examining the frequency and proportion of males and females in the dataset.
-   **Distribution of Medical Conditions:** Analyzing the prevalence of various medical conditions.
-   **Blood Type Distribution:** Exploring the distribution of different blood types among patients.
-   **Test Results Distribution:** Investigating the frequency of different test result categories (e.g., normal, abnormal).

### Bivariate Analysis

Bivariate analysis aims to understand the relationship between two variables, exploring potential associations or correlations. Key visualizations include:

-   **Age Group Distribution of Patients:** Analyzing the number of patients within different age ranges.
-   **Age Distribution by Medical Condition:** Examining how age varies across different medical conditions.
-   **Admission Type by Medical Condition:** Investigating the relationship between admission types (e.g., emergency, elective) and medical conditions.
-   **Medical Conditions by Blood Type:** Exploring potential associations between blood types and specific medical conditions.
-   **Yearly Revenue Summary and Validation:** Analyzing yearly revenue trends to identify patterns over time.
-   **Total Medical Revenue by Age Group:** Examining the total revenue generated by different age groups.
-   **Proportion of Total Revenue by Age Group:** Analyzing the proportional contribution of each age group to the overall revenue.
-   **Average Medical Revenue by Age Group:** Investigating the average revenue generated per person within each age group.
-   **Medical Expenditure by Age Group:** Visualizing the distribution of medical expenditures across different age groups.
-   **Average Billing Amount by Admission Type:** Comparing the average billing amounts for different admission types.
-   **Comparison of Total Billing Amounts by Medication:** Analyzing the total billing amounts associated with different medications.

This comprehensive EDA provides a foundation for understanding the key factors influencing medical revenue and billing amounts, which can inform decision-making for resource allocation, cost optimization, and process improvement in healthcare.

**Model Training and Evaluation**:

To understand healthcare factors and make accurate predictions, we evaluated two machine learning models: Multinomial Regression and Random Forest. Each model's performance sheds light on the dataset's characteristics and the challenges in achieving better predictions.

-   **Multinomial Regression** As a straightforward and interpretable approach, multinomial regression provided an accuracy of 33.54%, only marginally outperforming random guessing for a dataset with three balanced categories. Its simplicity allows for easy interpretation of linear relationships between variables, making it a useful starting point. However, its inability to capture nonlinear patterns highlighted significant gaps in the dataset’s feature quality. This outcome suggests the need for more informative predictors to better differentiate between categories. Multinomial regression serves as a baseline for comparison but falls short in addressing the complexities of the data**.**

-   **Random Forest:** Random Forest, an advanced ensemble learning method, delivered a slightly better accuracy of 34.12%. By leveraging multiple decision trees and bootstrap sampling, this model can effectively capture nonlinear relationships and interactions between variables. Additionally, its feature importance ranking provides valuable insights into which predictors most influence the outcomes. Despite these strengths, the minimal performance improvement over multinomial regression signals deeper issues, such as insufficient feature refinement or model tuning. These results underline the potential benefits of hyperparameter optimization and the inclusion of more relevant features to unlock the model’s full potential.

**Key Observations:** The results from both models highlight critical challenges in the dataset. The limited performance of multinomial regression and the modest gains from Random Forest indicate that the current features do not fully capture the complexity of the target variable. Improved feature engineering is essential to address these issues. Strategies such as creating interaction terms, enriching the dataset with external data, or applying dimensionality reduction techniques like PCA could reveal hidden patterns and improve predictive accuracy.

## Results

This section presents the key findings from our analysis, utilizing visualizations to effectively communicate the insights and answer the research questions.

### Results for Research Question 1: Age and Revenue

**Revenue Distribution Across Age Groups**

-   **Total Medical Revenue by Age Group:**

    ![](images/WhatsApp Image 2024-12-13 at 12.27.53 AM.jpeg)

The bar chart illustrates that the age group of 65+ years contributes the most to the total medical revenue, followed by the 19-35, 51-65, and 36-50 age groups. The 0-18 age group has the lowest total revenue contribution.

-   **Proportion of Total Revenue by Age Group:**

    ![](images/WhatsApp Image 2024-12-13 at 12.27.53 AM (2).jpeg)

This pie chart visually reinforces the dominant contribution of the 65+ age group, representing approximately 29.2% of the total revenue. The 19-35 and 51-65 age groups also hold significant proportions, highlighting the importance of these demographics in healthcare revenue generation.

-   **Average Medical Revenue by Age Group:**

    ![](images/WhatsApp Image 2024-12-13 at 12.27.54 AM.jpeg)

    Interestingly, while the total revenue varies considerably across age groups, the average revenue per person remains relatively consistent, ranging from approximately \$25.4K to \$26.7K. This suggests that while older age groups contribute more to the overall revenue due to higher healthcare utilization, the average cost of treating an individual remains fairly stable across different age demographics.

-   **Medical Expenditure by Age Group**

    ![](images/WhatsApp Image 2024-12-13 at 12.27.53 AM (1).jpeg)

The box plot of Medical Expenditure by Age Group shows how medical costs vary across age groups. Each box highlights the typical range, with the median line marking the central value. Whiskers show most data, while dots represent outliers. Older age groups tend to have higher or more variable costs, emphasizing the need for medical insurance or financial planning in retirement, as many may struggle to cover these expenses independently.

### Results for Research Question 2: Factors Influencing Billing Amounts

**Factors Influencing Billing Amounts**

-   **Average Billing Amount by Admission Type:**

    ![](images/WhatsApp Image 2024-12-13 at 12.29.10 AM (1).jpeg)

The bar chart reveals that Emergency admissions have the highest average billing amount, followed by Urgent and then Elective admissions. This suggests that the complexity and urgency of care required for unplanned or critical treatments contribute significantly to higher billing amounts.

-   **Comparison of Total Billing Amounts by Medication:**

    ![](images/WhatsApp Image 2024-12-13 at 12.29.10 AM.jpeg){width="581"}

The bar chart demonstrates that certain medications, such as Ibuprofen, Lipitor, and Aspirin, have notably high total billing amounts. This indicates that these medications, likely due to their widespread usage or high individual costs, contribute substantially to overall healthcare expenditure.

**Note: The four comparisons from Research Question 1 are also relevant to understanding and addressing the factors influencing in Research Question 2.**

-   **Predicting Test Results with Machine Learning**

    ![](images/WhatsApp Image 2024-12-13 at 12.28.11 AM.jpeg){width="593"}

The bar chart above illustrates the performance of two machine learning models, Multinomial Regression and Random Forest, in predicting test results. Both models exhibit low accuracy, with the Multinomial Regression achieving 33.5% accuracy and the Random Forest slightly higher at 34.1%. This suggests that the models, in their current form, have limited predictive power for determining test outcomes based on the included features.

## Discussion

**Summary of Insights:**

Our analysis reveals key insights into medical revenue trends across age groups and factors influencing higher billing amounts. The 65+ age group emerges as the largest contributor, accounting for approximately 29.2% of total healthcare revenue, followed by the 19-35, 51-65, and 36-50 age groups. Interestingly, while total revenue varies across age groups, the average medical revenue per person remains relatively consistent. Additionally, there is an upward trend in yearly revenue, reflecting an overall rise in healthcare expenditure over time. Emergency admissions are linked to the highest average billing amounts, and specific medications, such as Ibuprofen, Lipitor, and Aspirin, significantly impact overall billing costs.

**Why Machine Learning Accuracy is Low:**

-   **Missing and incomplete data:** The synthetic dataset may lack crucial information, such as socioeconomic factors or detailed medical history, which could improve model accuracy.

-   **Limited feature selection:** The current models use a limited set of features. Including additional relevant predictors could enhance predictive performance.

-   **System limitations:** System constraints restricted the complexity and fine-tuning of our models.

-   **Imbalanced classes:** The distribution of test results (normal, abnormal, inconclusive) may be imbalanced, affecting model training and accuracy.

## **Future Scope:**

-   **Validation with Real-world Data:** Validate the findings with real-world healthcare data to assess the generalizability of the observed patterns and relationships.

-   **Incorporate Additional Variables:** Include more variables in the analysis to gain a deeper understanding of the drivers of healthcare expenditure.

-   **Predictive Modeling:** Develop more robust predictive models to forecast future healthcare costs and utilization patterns.

-   **Comparative Analysis:** Conduct a comparative analysis across different healthcare systems or regions to identify variations in healthcare expenditure patterns.

By addressing these limitations and pursuing future research directions, we can further enhance our understanding

## References

-   Healthcare Dataset. (2023). Retrieved from Kaggle, <https://www.kaggle.com/datasets/prasad22/healthcare-dataset>

-   Machine Learning, <https://www.tidymodels.org/>

-   PLOTS, <https://ggplot2.tidyverse.org/>
